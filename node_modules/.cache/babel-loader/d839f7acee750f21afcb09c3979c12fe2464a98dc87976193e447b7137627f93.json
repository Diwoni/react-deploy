{"ast":null,"code":"import { rest } from 'msw';\nlet nextOrderId = 1;\nconst ordersDatabase = [];\nexport const orderHandlers = [\n// 주문 생성 핸들러\nrest.post('/api/orders', (req, res, ctx) => {\n  const newOrder = req.body;\n\n  // 유효성 검사\n  if (!newOrder.productId || !newOrder.optionId || !newOrder.quantity) {\n    return res(ctx.status(400), ctx.json({\n      message: 'Invalid input'\n    }));\n  }\n\n  // 주문 생성 로직\n  const createdOrder = {\n    id: nextOrderId++,\n    // 고유 ID 할당\n    productName: 'Sample Product',\n    // 실제 데이터로 대체 가능\n    optionName: 'Sample Option',\n    // 실제 데이터로 대체 가능\n    price: 2000,\n    // 실제 데이터로 대체 가능\n    date: new Date().toISOString(),\n    imageUrl: 'http://example.com/image.jpg',\n    // 실제 데이터로 대체 가능\n    ...newOrder\n  };\n  ordersDatabase.push(createdOrder);\n  console.log('Created Order:', createdOrder);\n  return res(ctx.status(200), ctx.json(createdOrder));\n}),\n// 주문 목록 불러오기 핸들러\nrest.get('/api/orders', (req, res, ctx) => {\n  const page = parseInt(req.url.searchParams.get('page') || '0');\n  const size = parseInt(req.url.searchParams.get('size') || '10');\n  const totalElements = ordersDatabase.length;\n  const totalPages = Math.ceil(totalElements / size);\n  const start = page * size;\n  const end = start + size;\n  const orders = ordersDatabase.slice(start, end).map(order => ({\n    orderId: order.id,\n    productId: order.productId,\n    productName: order.productName,\n    optionName: order.optionName,\n    quantity: order.quantity,\n    date: order.date,\n    price: order.price,\n    imageUrl: order.imageUrl\n  }));\n  return res(ctx.status(200), ctx.json({\n    hasNext: page < totalPages - 1,\n    orders\n  }));\n})];","map":{"version":3,"names":["rest","nextOrderId","ordersDatabase","orderHandlers","post","req","res","ctx","newOrder","body","productId","optionId","quantity","status","json","message","createdOrder","id","productName","optionName","price","date","Date","toISOString","imageUrl","push","console","log","get","page","parseInt","url","searchParams","size","totalElements","length","totalPages","Math","ceil","start","end","orders","slice","map","order","orderId","hasNext"],"sources":["/Users/jiwon/Desktop/KaKaoTech/Step2/5주차 과제/week5/react-product-login/src/api/hooks/order.mock.ts"],"sourcesContent":["import { rest } from 'msw';\n\ninterface OrderFormData {\n  productId: number;\n  optionId: number;\n  quantity: number;\n  hasCashReceipt: boolean;\n  cashReceiptType?: string;\n  cashReceiptNumber?: string;\n  message?: string;\n}\n\ninterface Order extends OrderFormData {\n  id: number;\n  productName: string;\n  optionName: string;\n  price: number;\n  date: string;\n  imageUrl: string;\n}\n\nlet nextOrderId = 1;\nconst ordersDatabase: Order[] = [];\n\nexport const orderHandlers = [\n  // 주문 생성 핸들러\n  rest.post('/api/orders', (req, res, ctx) => {\n    const newOrder = req.body as OrderFormData;\n\n    // 유효성 검사\n    if (!newOrder.productId || !newOrder.optionId || !newOrder.quantity) {\n      return res(ctx.status(400), ctx.json({ message: 'Invalid input' }));\n    }\n\n    // 주문 생성 로직\n    const createdOrder: Order = {\n      id: nextOrderId++, // 고유 ID 할당\n      productName: 'Sample Product', // 실제 데이터로 대체 가능\n      optionName: 'Sample Option', // 실제 데이터로 대체 가능\n      price: 2000, // 실제 데이터로 대체 가능\n      date: new Date().toISOString(),\n      imageUrl: 'http://example.com/image.jpg', // 실제 데이터로 대체 가능\n      ...newOrder,\n    };\n\n    ordersDatabase.push(createdOrder);\n    console.log('Created Order:', createdOrder);\n\n    return res(ctx.status(200), ctx.json(createdOrder));\n  }),\n\n  // 주문 목록 불러오기 핸들러\n  rest.get('/api/orders', (req, res, ctx) => {\n    const page = parseInt(req.url.searchParams.get('page') || '0');\n    const size = parseInt(req.url.searchParams.get('size') || '10');\n    const totalElements = ordersDatabase.length;\n    const totalPages = Math.ceil(totalElements / size);\n\n    const start = page * size;\n    const end = start + size;\n    const orders = ordersDatabase.slice(start, end).map((order) => ({\n      orderId: order.id,\n      productId: order.productId,\n      productName: order.productName,\n      optionName: order.optionName,\n      quantity: order.quantity,\n      date: order.date,\n      price: order.price,\n      imageUrl: order.imageUrl,\n    }));\n\n    return res(\n      ctx.status(200),\n      ctx.json({\n        hasNext: page < totalPages - 1,\n        orders,\n      }),\n    );\n  }),\n];\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,KAAK;AAqB1B,IAAIC,WAAW,GAAG,CAAC;AACnB,MAAMC,cAAuB,GAAG,EAAE;AAElC,OAAO,MAAMC,aAAa,GAAG;AAC3B;AACAH,IAAI,CAACI,IAAI,CAAC,aAAa,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;EAC1C,MAAMC,QAAQ,GAAGH,GAAG,CAACI,IAAqB;;EAE1C;EACA,IAAI,CAACD,QAAQ,CAACE,SAAS,IAAI,CAACF,QAAQ,CAACG,QAAQ,IAAI,CAACH,QAAQ,CAACI,QAAQ,EAAE;IACnE,OAAON,GAAG,CAACC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EAAEN,GAAG,CAACO,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAgB,CAAC,CAAC,CAAC;EACrE;;EAEA;EACA,MAAMC,YAAmB,GAAG;IAC1BC,EAAE,EAAEhB,WAAW,EAAE;IAAE;IACnBiB,WAAW,EAAE,gBAAgB;IAAE;IAC/BC,UAAU,EAAE,eAAe;IAAE;IAC7BC,KAAK,EAAE,IAAI;IAAE;IACbC,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC9BC,QAAQ,EAAE,8BAA8B;IAAE;IAC1C,GAAGhB;EACL,CAAC;EAEDN,cAAc,CAACuB,IAAI,CAACT,YAAY,CAAC;EACjCU,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEX,YAAY,CAAC;EAE3C,OAAOV,GAAG,CAACC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EAAEN,GAAG,CAACO,IAAI,CAACE,YAAY,CAAC,CAAC;AACrD,CAAC,CAAC;AAEF;AACAhB,IAAI,CAAC4B,GAAG,CAAC,aAAa,EAAE,CAACvB,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;EACzC,MAAMsB,IAAI,GAAGC,QAAQ,CAACzB,GAAG,CAAC0B,GAAG,CAACC,YAAY,CAACJ,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC;EAC9D,MAAMK,IAAI,GAAGH,QAAQ,CAACzB,GAAG,CAAC0B,GAAG,CAACC,YAAY,CAACJ,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAC/D,MAAMM,aAAa,GAAGhC,cAAc,CAACiC,MAAM;EAC3C,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,aAAa,GAAGD,IAAI,CAAC;EAElD,MAAMM,KAAK,GAAGV,IAAI,GAAGI,IAAI;EACzB,MAAMO,GAAG,GAAGD,KAAK,GAAGN,IAAI;EACxB,MAAMQ,MAAM,GAAGvC,cAAc,CAACwC,KAAK,CAACH,KAAK,EAAEC,GAAG,CAAC,CAACG,GAAG,CAAEC,KAAK,KAAM;IAC9DC,OAAO,EAAED,KAAK,CAAC3B,EAAE;IACjBP,SAAS,EAAEkC,KAAK,CAAClC,SAAS;IAC1BQ,WAAW,EAAE0B,KAAK,CAAC1B,WAAW;IAC9BC,UAAU,EAAEyB,KAAK,CAACzB,UAAU;IAC5BP,QAAQ,EAAEgC,KAAK,CAAChC,QAAQ;IACxBS,IAAI,EAAEuB,KAAK,CAACvB,IAAI;IAChBD,KAAK,EAAEwB,KAAK,CAACxB,KAAK;IAClBI,QAAQ,EAAEoB,KAAK,CAACpB;EAClB,CAAC,CAAC,CAAC;EAEH,OAAOlB,GAAG,CACRC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EACfN,GAAG,CAACO,IAAI,CAAC;IACPgC,OAAO,EAAEjB,IAAI,GAAGO,UAAU,GAAG,CAAC;IAC9BK;EACF,CAAC,CACH,CAAC;AACH,CAAC,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}