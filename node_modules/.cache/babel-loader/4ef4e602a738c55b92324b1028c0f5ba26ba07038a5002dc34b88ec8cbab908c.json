{"ast":null,"code":"import { rest } from 'msw';\nlet nextOrderId = 1;\nconst ordersDatabase = [];\nexport const orderHandlers = [\n// 주문 생성 핸들러\nrest.post('/api/orders', (req, res, ctx) => {\n  const newOrder = req.body;\n\n  // 유효성 검사\n  if (!newOrder.productId || !newOrder.optionId || !newOrder.quantity) {\n    return res(ctx.status(400), ctx.json({\n      message: 'Invalid input'\n    }));\n  }\n\n  // 주문 생성 로직\n  id: nextOrderId++,\n  // 고유 ID 할당\n  ordersDatabase.push(createdOrder);\n  console.log('Created Order:', createdOrder);\n  return res(ctx.status(200), ctx.json(createdOrder));\n}),\n// 주문 목록 불러오기 핸들러\nrest.get('/api/orders', (req, res, ctx) => {\n  const page = parseInt(req.url.searchParams.get('page') || '0');\n  const size = parseInt(req.url.searchParams.get('size') || '10');\n  const totalElements = ordersDatabase.length;\n  const totalPages = Math.ceil(totalElements / size);\n  const start = page * size;\n  const end = start + size;\n  const orders = ordersDatabase.slice(start, end).map(order => ({\n    orderId: order.id,\n    productId: order.productId,\n    productName: order.productName,\n    optionName: order.optionName,\n    quantity: order.quantity,\n    date: order.date,\n    price: order.price,\n    imageUrl: order.imageUrl\n  }));\n  return res(ctx.status(200), ctx.json({\n    hasNext: page < totalPages - 1,\n    orders\n  }));\n})];","map":{"version":3,"names":["rest","nextOrderId","ordersDatabase","orderHandlers","post","req","res","ctx","newOrder","body","productId","optionId","quantity","status","json","message","id","push","createdOrder","console","log","get","page","parseInt","url","searchParams","size","totalElements","length","totalPages","Math","ceil","start","end","orders","slice","map","order","orderId","productName","optionName","date","price","imageUrl","hasNext"],"sources":["/Users/jiwon/Desktop/KaKaoTech/Step2/5주차 과제/week5/react-product-login/src/api/hooks/order.mock.ts"],"sourcesContent":["import { rest } from 'msw';\n\ninterface OrderFormData {\n  productId: number;\n  optionId: number;\n  quantity: number;\n  hasCashReceipt: boolean;\n  cashReceiptType?: string;\n  cashReceiptNumber?: string;\n  message?: string;\n}\n\ninterface Order extends OrderFormData {\n  id: number;\n  productName: string;\n  optionName: string;\n  price: number;\n  date: string;\n  imageUrl: string;\n}\n\nlet nextOrderId = 1;\nconst ordersDatabase: Order[] = [];\n\nexport const orderHandlers = [\n  // 주문 생성 핸들러\n  rest.post('/api/orders', (req, res, ctx) => {\n    const newOrder = req.body as OrderFormData;\n\n    // 유효성 검사\n    if (!newOrder.productId || !newOrder.optionId || !newOrder.quantity) {\n      return res(ctx.status(400), ctx.json({ message: 'Invalid input' }));\n    }\n\n    // 주문 생성 로직\n    id: nextOrderId++, // 고유 ID 할당\n      ordersDatabase.push(createdOrder);\n    console.log('Created Order:', createdOrder);\n\n    return res(ctx.status(200), ctx.json(createdOrder));\n  }),\n\n  // 주문 목록 불러오기 핸들러\n  rest.get('/api/orders', (req, res, ctx) => {\n    const page = parseInt(req.url.searchParams.get('page') || '0');\n    const size = parseInt(req.url.searchParams.get('size') || '10');\n    const totalElements = ordersDatabase.length;\n    const totalPages = Math.ceil(totalElements / size);\n\n    const start = page * size;\n    const end = start + size;\n    const orders = ordersDatabase.slice(start, end).map((order) => ({\n      orderId: order.id,\n      productId: order.productId,\n      productName: order.productName,\n      optionName: order.optionName,\n      quantity: order.quantity,\n      date: order.date,\n      price: order.price,\n      imageUrl: order.imageUrl,\n    }));\n\n    return res(\n      ctx.status(200),\n      ctx.json({\n        hasNext: page < totalPages - 1,\n        orders,\n      }),\n    );\n  }),\n];\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,KAAK;AAqB1B,IAAIC,WAAW,GAAG,CAAC;AACnB,MAAMC,cAAuB,GAAG,EAAE;AAElC,OAAO,MAAMC,aAAa,GAAG;AAC3B;AACAH,IAAI,CAACI,IAAI,CAAC,aAAa,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;EAC1C,MAAMC,QAAQ,GAAGH,GAAG,CAACI,IAAqB;;EAE1C;EACA,IAAI,CAACD,QAAQ,CAACE,SAAS,IAAI,CAACF,QAAQ,CAACG,QAAQ,IAAI,CAACH,QAAQ,CAACI,QAAQ,EAAE;IACnE,OAAON,GAAG,CAACC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EAAEN,GAAG,CAACO,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAgB,CAAC,CAAC,CAAC;EACrE;;EAEA;EACAC,EAAE,EAAEf,WAAW,EAAE;EAAE;EACjBC,cAAc,CAACe,IAAI,CAACC,YAAY,CAAC;EACnCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,YAAY,CAAC;EAE3C,OAAOZ,GAAG,CAACC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EAAEN,GAAG,CAACO,IAAI,CAACI,YAAY,CAAC,CAAC;AACrD,CAAC,CAAC;AAEF;AACAlB,IAAI,CAACqB,GAAG,CAAC,aAAa,EAAE,CAAChB,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;EACzC,MAAMe,IAAI,GAAGC,QAAQ,CAAClB,GAAG,CAACmB,GAAG,CAACC,YAAY,CAACJ,GAAG,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC;EAC9D,MAAMK,IAAI,GAAGH,QAAQ,CAAClB,GAAG,CAACmB,GAAG,CAACC,YAAY,CAACJ,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAC/D,MAAMM,aAAa,GAAGzB,cAAc,CAAC0B,MAAM;EAC3C,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACJ,aAAa,GAAGD,IAAI,CAAC;EAElD,MAAMM,KAAK,GAAGV,IAAI,GAAGI,IAAI;EACzB,MAAMO,GAAG,GAAGD,KAAK,GAAGN,IAAI;EACxB,MAAMQ,MAAM,GAAGhC,cAAc,CAACiC,KAAK,CAACH,KAAK,EAAEC,GAAG,CAAC,CAACG,GAAG,CAAEC,KAAK,KAAM;IAC9DC,OAAO,EAAED,KAAK,CAACrB,EAAE;IACjBN,SAAS,EAAE2B,KAAK,CAAC3B,SAAS;IAC1B6B,WAAW,EAAEF,KAAK,CAACE,WAAW;IAC9BC,UAAU,EAAEH,KAAK,CAACG,UAAU;IAC5B5B,QAAQ,EAAEyB,KAAK,CAACzB,QAAQ;IACxB6B,IAAI,EAAEJ,KAAK,CAACI,IAAI;IAChBC,KAAK,EAAEL,KAAK,CAACK,KAAK;IAClBC,QAAQ,EAAEN,KAAK,CAACM;EAClB,CAAC,CAAC,CAAC;EAEH,OAAOrC,GAAG,CACRC,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,EACfN,GAAG,CAACO,IAAI,CAAC;IACP8B,OAAO,EAAEtB,IAAI,GAAGO,UAAU,GAAG,CAAC;IAC9BK;EACF,CAAC,CACH,CAAC;AACH,CAAC,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}